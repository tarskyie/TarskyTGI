<Page
    x:Class="TarskyTGI.Pages.HostPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <Grid Padding="20" RowDefinitions="Auto,*">
        <StackPanel Orientation="Vertical" Spacing="16">

            <!-- Title -->
            <TextBlock Text="Server Control Panel"
                       FontSize="24"
                       FontWeight="Bold"
                       Margin="0,0,0,12"/>

            <!-- Model Selection -->
            <Expander Header="Model Configuration" IsExpanded="True">
                <StackPanel Orientation="Vertical" Spacing="8" Padding="8">
                    <StackPanel Orientation="Horizontal" Spacing="6">
                        <TextBox x:Name="ModelBox" Width="300" PlaceholderText="Model path"/>
                        <Button x:Name="selectModelButton" Content="Browse..." Click="selectModelButton_Click"/>
                    </StackPanel>
                </StackPanel>
            </Expander>

            <!-- Network Settings -->
            <Expander Header="Network Settings" IsExpanded="True">
                <StackPanel Orientation="Horizontal" Spacing="12" Padding="8">
                    <TextBox x:Name="HostBox" Width="160" PlaceholderText="Host" Text="127.0.0.1"/>
                    <TextBox x:Name="PortBox" Width="100" PlaceholderText="Port" Text="8080"/>
                </StackPanel>
            </Expander>

            <!-- Runtime Parameters -->
            <Expander Header="Runtime Parameters" IsExpanded="False">
                <StackPanel Orientation="Horizontal" Spacing="12" Padding="8">
                    <TextBox x:Name="ctxBox" Width="140" PlaceholderText="n_ctx" Text="1024"/>
                    <TextBox x:Name="gpuLayers" Width="140" PlaceholderText="GPU layers" Text="0"/>
                    <ComboBox x:Name="priorityBox" Width="160" SelectedIndex="2" PlaceholderText="Priority">
                        <ComboBoxItem Content="Idle"/>
                        <ComboBoxItem Content="BelowNormal"/>
                        <ComboBoxItem Content="Normal"/>
                        <ComboBoxItem Content="AboveNormal"/>
                        <ComboBoxItem Content="High"/>
                        <ComboBoxItem Content="RealTime"/>
                    </ComboBox>
                </StackPanel>
            </Expander>

            <!-- Controls -->
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Spacing="12" Margin="0,12,0,0">
                <Button x:Name="startServerButton" Content="▶ Start Server" Width="140" Click="StartServer_Click"/>
                <Button x:Name="stopServerButton" Content="⏹ Stop Server" Width="140" Click="StopServer_Click"/>
            </StackPanel>

            <!-- Status -->
            <Border Background="DarkSlateGray" Padding="8" CornerRadius="4" Margin="0,12,0,0">
                <TextBlock x:Name="StatusTextBlock" Text="Idle." FontWeight="SemiBold" Foreground="White"/>
            </Border>

        </StackPanel>
    </Grid>
</Page>